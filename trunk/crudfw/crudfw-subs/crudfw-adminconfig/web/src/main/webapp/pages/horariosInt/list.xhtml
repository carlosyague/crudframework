<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:v="http://corejsf.com/validator"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:librae="http://www.librae.org/jsf/facelets">

<ui:composition template="/templates/defaultTemplate.xhtml">
	<ui:define name="title">#{msg['horarioList.title']}</ui:define>
	<ui:define name="body.id">horarioIntListAction</ui:define>

	<ui:define name="body">
		<f:view>
			<h:outputText value="#{horarioIntListAction.init}" />
			<h:form id="horarioIntListAction">

				<librae:breadCrumb />

				<!-- CONTENIDO -->
				<t:div styleClass="contenido">
					<librae:tabbedPage
						tabs="#{horarioIntListAction.form.tabGroup}"
						subTabs="#{horarioIntListAction.form.subTabGroup}">
						<librae:tab
							binding="#{horarioIntListAction.form.tabListado}">
							<t:div styleClass="cuadro">
								<t:div styleClass="cuadro02">

									<t:panelGrid columns="2" columnClasses="columnLabel" headerClass="titular"
										footerClass="esq02" cellpadding="0" cellspacing="0" border="0"
										width="100%">

										<f:facet name="header">
											<h:outputText value="" />
										</f:facet>

										<h:panelGroup/><h:panelGroup/><h:panelGroup/><h:panelGroup/>

										<h:outputLabel for="biblioteca" value="#{msg['horario.biblioteca']}" />
										<h:panelGroup>
											<t:saveState id="saveBiblioteca" value="#{horarioIntListAction.formHorario.biblioteca}" />
											<h:outputText value="#{horarioIntListAction.formHorario.biblioteca}" escape="true"/>
										</h:panelGroup>

										<h:outputLabel for="nombre" value="#{msg['horario.fechaActualizacion']}" />
										<h:panelGroup>
											<t:saveState id="saveFechaActualizacion" value="#{horarioIntListAction.formHorario.fechaActualizacion}" />
											<h:outputText value="#{horarioIntListAction.formHorario.fechaActualizacion}" escape="true">
    												<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="Europe/Madrid"/>
   											 </h:outputText>
										</h:panelGroup>

										<t:saveState id="saveReadMode" value="#{horarioIntListAction.formHorario.readMode}" />
										<h:inputHidden value="#{horarioIntListAction.formHorario.readMode}" id="readMode"/>

										<t:saveState id="saveIdHorario" value="#{horarioIntListAction.formHorario.idHorario}" />
										<h:inputHidden value="#{horarioIntListAction.formHorario.idHorario}" id="idHorario"/>

										<t:saveState id="saveNavigationRuleBack" value="#{horarioIntListAction.formHorario.navigationRuleBack}" />
										<h:inputHidden value="#{horarioIntListAction.formHorario.navigationRuleBack}" id="navigationRuleBack"/>

										<h:outputText value=" " /><h:outputText value=" " />
										<h:outputText value=" " /><h:outputText value=" " />
										<h:outputText value=" " /><h:outputText value=" " />
										<h:outputText value=" " /><h:outputText value=" " />

										<f:facet name="footer">
											<h:outputText value=" " /><h:outputText value=" " />
										</f:facet>

									</t:panelGrid>
								</t:div>
							</t:div>

								<librae:subTabListado
									binding="#{horarioIntListAction.form.subTabResults}">

										<!-- BOTONES -->
										<t:panelGrid columns="2" styleClass="botones">
											<t:panelGroup>
												<t:commandLink action="add" id="add" immediate="true" styleClass="btn_barra" rendered="#{!horarioIntListAction.formHorario.readMode}" title="#{common['button.add']}">
													<span><h:outputText value="#{common['button.add']}" /></span>
												</t:commandLink>

												<t:panelGroup styleClass="botonfinal">
													<h:commandButton action="#{horarioIntListAction.generarPdf}" immediate="true" styleClass="imprimir" title="#{common['button.pdf']}" image="/images/pdf_icon.gif" alt="#{common['button.pdf']}" />
													<h:commandButton action="#{horarioIntListAction.generarExcel}" immediate="true" styleClass="imprimir" title="#{common['button.excel']}" image="/images/hoja_calculo_icon.gif" alt="#{common['button.excel']}" />
													<t:selectOneMenu id="factorPaginacion"
																	 styleClass="combo_paginacion"
																	 value="#{horarioIntListAction.pageSize}"
																	 onchange="document.getElementById('_viewRoot:status.start').style.display='';return oamSubmitForm('horarioIntListAction','horarioIntListAction:cambiarPaginacion');" forceId="true">
														<f:selectItem itemValue="10" itemLabel="10" />
														<f:selectItem itemValue="20" itemLabel="20" />
														<f:selectItem itemValue="30" itemLabel="30" />
														<f:selectItem itemValue="50" itemLabel="50" />
														<!-- f:selectItem itemValue="-1" itemLabel="Todos" / -->
													</t:selectOneMenu>
													<t:commandLink action="#{horarioIntListAction.modificarPageSize}"
														id="cambiarPaginacion" style="display:none;">
														<h:outputText value="." />
													</t:commandLink>
												</t:panelGroup>
											</t:panelGroup>
										</t:panelGrid>

										<ui:include src="/pages/horariosInt/dataTable.xhtml">
											<ui:param name="bean" value="#{horarioIntListAction}" />
										</ui:include>

										<ui:include src="/common/paginatorAjaxSession.xhtml">
											<ui:param name="bean" value="#{horarioIntListAction}" />
											<ui:param name="idListado" value="horariosInt" />
											<ui:param name="idPageSize" value="$F('factorPaginacion')" />
										</ui:include>
								</librae:subTabListado>

								<t:panelGrid columns="1" styleClass="ruta" columnClasses="path,fechahora" cellpadding="0" cellspacing="0" border="0">
									<h:panelGroup>
										<t:commandLink action="#{horarioIntListAction.cancel}" id="cancel" styleClass="boton_rojo" title="#{common['button.cancel']}" immediate="true">
											<span><h:outputText value="#{common['button.cancel']}" /></span>
			   							 </t:commandLink>
										<t:commandLink action="#{horarioIntListAction.aceptar}" id="aceptar" styleClass="boton" title="#{common['button.done']}" rendered="#{!horarioIntListAction.formHorario.readMode}" immediate="true">
											<span><h:outputText value="#{common['button.done']}" /></span>
										</t:commandLink>
									</h:panelGroup>
								</t:panelGrid>

						</librae:tab>
					</librae:tabbedPage>
				</t:div>
			</h:form>

			<!-- WINDOW MESSAGES -->
			<librae:windowMessages bean="#{horarioIntListAction}" borrar="true" />

		</f:view>
	</ui:define>
</ui:composition>
</html>