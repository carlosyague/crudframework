<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:librae="http://www.librae.org/jsf/facelets">

	<librae:listado id="usuarios" var="usuario" value="#{bean.listado}" sortColumn="#{bean.sortColumn}"
		sortAscending="#{bean.ascending}" styleClass="listado"
		headerClass="standardTable_Header" rowClasses="impar,par" rowStyleClass="#{usuario.estilo}">

		<h:column>
			<f:facet name="header">
				<t:selectBooleanCheckbox forceId="true" id="selectAllPage" name="selectAllPage"
				    onclick="actualizarSeleccionPagina(this, 'usuarios', 'selectAll');" value="#{bean.selectedPage}"/>
			</f:facet>
			<t:selectBooleanCheckbox forceId="true" id="chk" styleClass="#{usuario.id}"
	        	 onclick="actualizarSeleccion(this, 'usuarios', 'selectAll', 'selectAllPage');" value="#{usuario.selected}"/>
		</h:column>

		<t:column id="usuario_usuario">
			<f:facet name="header">
				<t:commandSortHeader id="usuarioUsuario" columnName="usuario" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.usuario']}">
						<a4j:actionparam name="sortColumn" value="usuario" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.usuario}" escape="true"/>
		</t:column>
		<t:column id="usuario_nombre">
			<f:facet name="header">
				<t:commandSortHeader id="apellido1" columnName="apellido1" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.nombre']}">
						<a4j:actionparam name="sortColumn" value="apellido1" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.apellido1}" escape="true"/>
			<t:outputText value=" #{usuario.apellido2}" escape="true" rendered="#{usuario.apellido2!=''}"/>
			<t:outputText value="," escape="true"/>
			<t:outputText value=" #{usuario.nombre}" escape="true"/>
		</t:column>
		<t:column id="usuario_numeroIdentificacion">
			<f:facet name="header">
				<t:commandSortHeader id="usuarioNumero" columnName="numeroIdentificacion" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.numeroIdentificacion']}">
						<a4j:actionparam name="sortColumn" value="numeroIdentificacion" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.numeroIdentificacion}" escape="true"/>
		</t:column>
		<t:column id="usuario_fechaAlta">
			<f:facet name="header">
				<t:commandSortHeader id="usuarioFechaAlta" columnName="fechaAlta" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.fechaAlta']}">
						<a4j:actionparam name="sortColumn" value="fechaAlta" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.fechaAlta}" escape="true" converter="timeZoneConverter"/>
		</t:column>
		<t:column id="usuario_fechaBaja">
			<f:facet name="header">
				<t:commandSortHeader id="usuarioFechaBaja" columnName="fechaBaja" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.fechaBaja']}">
						<a4j:actionparam name="sortColumn" value="fechaBaja" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.fechaBaja}" escape="true" converter="timeZoneConverter"/>
		</t:column>
		<t:column id="usuario_email">
			<f:facet name="header">
				<t:commandSortHeader id="usuarioEmail" columnName="email" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.email']}">
						<a4j:actionparam name="sortColumn" value="email" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.email}" escape="true"/>
		</t:column>
		<t:column id="usuario_telefono">
			<f:facet name="header">
				<t:commandSortHeader id="usuarioTelefono" columnName="telefono" arrow="true">
					<a4j:commandLink reRender="usuarios, paginacion" value="#{msg['usuario.telefono']}">
						<a4j:actionparam name="sortColumn" value="telefono" assignTo="#{bean.sortColumn}"/>
						<a4j:actionparam name="ascending"  value="#{!bean.ascending}" assignTo="#{bean.ascending}" />
						<f:param name="ordenarListado" value="true" />
					</a4j:commandLink>
				</t:commandSortHeader>
			</f:facet>
			<t:outputText value="#{usuario.telefono}" escape="true"/>
		</t:column>
		<t:column styleClass="editLink">
		<f:facet name="header" style="center">
		</f:facet>
		<t:commandLink action="#{usuarioFormAction.edit}" id="edit" visibleOnUserRole="ADM_Mostrar_Usuario" title="#{common['button.lapiz']}">
			<f:param name="idUsuario" value="#{usuario.id}" />
			<f:param name="from" value="/pages/usuario/list.xhtml" />
			<f:param name="procesarListado" value="true" />
			<span><h:graphicImage border="0" value="/images/editar_icon.gif"
				alt="#{common['button.lapiz']}" /></span>
		</t:commandLink>
		</t:column>
	</librae:listado>

</html>