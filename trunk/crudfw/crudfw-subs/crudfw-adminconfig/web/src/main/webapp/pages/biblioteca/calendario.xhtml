<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:v="http://corejsf.com/validator"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<ui:composition template="/templates/defaultTemplate.xhtml">
	<ui:define name="title">#{msg['calendarioForm.title']}</ui:define>
	<ui:define name="body.id">calendarioAction</ui:define>
	<ui:define name="body">
		<p:resources />
		<script>
		   function comprobarCalendario(){
				var id=festivos.id;
				var idInput="calendarioForm:"+id+":input";
				var seleccionados=festivos.cfg.getProperty("selected").length;
				if (seleccionados==0){
					var tmp = document.getElementById(idInput);
					tmp.value="01/01/1900";
				}
		   }
		</script>

		<style type="text/css">
			/* NAVBAR TEXT CONTAINER */
			.yui-skin-sam .yui-calendar .calheader {
			    color:#000;
			    background:#cccccc;
			    font-weight:bold;
			    padding:0 0 .6em 0;
			    text-align:center;
			}
			/* NAVBAR LEFT ARROW */
			.yui-skin-sam .yui-calendar .calnavleft {
			    width:25px;
			    height:15px;
			    top:0;
			    bottom:0;
			    left:-3px;
			    margin-left:.4em;
			    cursor:pointer;
			}

			/* NAVBAR RIGHT ARROW */
			.yui-skin-sam .yui-calendar .calnavright {
			    width:25px;
			    height:15px;
			    top:0;
			    bottom:0;
			    right:-3px;
			    margin-right:.4em;
			    cursor:pointer;
			}
		 </style>

		<f:view>
			<h:outputText value="#{calendarioAction.init}"/>
			<h:form id="calendarioForm" onsubmit="comprobarCalendario();">

				<ui:include src="/common/breadCrumb.xhtml"/>

				<t:div styleClass="contenido">
					<t:div styleClass="pestana1">
						<t:panelGrid columns="3" styleClass="pestanas" columnClasses="blank,titulo_activa,blank" cellpadding="0" cellspacing="0" border="0">
							<h:graphicImage value="/images/p01b.gif" />
							<h:outputText value="Calendario" />
							<h:graphicImage value="/images/p02b.gif" />
						</t:panelGrid>

						<t:div styleClass="pestana">
								<t:div styleClass="cuadro">
									<t:div styleClass="cuadro02">
										<t:panelGrid columns="2" headerClass="titular" footerClass="esq02" cellpadding="0" cellspacing="0" border="0" width="100%" columnClasses="anchura15">

											<f:facet name="header">
												<h:outputText value=" " />
											</f:facet>

											<h:outputLabel value="#{msg['biblioteca.biblioteca']}" />
											<h:outputText value="#{calendarioAction.form.nombreBiblioteca}" disabled="#{calendarioAction.form.readMode}"/>

											<h:outputText value="&#160;" />
											<h:outputText value="&#160;" />

											<h:outputLabel value="#{msg['calendarioForm.laborables']}" />
											<t:panelGroup>
											       <h:selectBooleanCheckbox id="lunes" value="#{calendarioAction.form.lunes}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.lunes']}" />
											       <h:outputText value="&#160;&#160;&#160;&#160;" />
											       <h:selectBooleanCheckbox id="martes" value="#{calendarioAction.form.martes}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.martes']}" />
											       <h:outputText value="&#160;&#160;&#160;&#160;" />
											       <h:selectBooleanCheckbox id="miercoles" value="#{calendarioAction.form.miercoles}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.miercoles']}" />
											       <h:outputText value="&#160;&#160;&#160;&#160;" />
											       <h:selectBooleanCheckbox id="jueves" value="#{calendarioAction.form.jueves}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.jueves']}" />
											       <h:outputText value="&#160;&#160;&#160;&#160;" />
											       <h:selectBooleanCheckbox id="viernes" value="#{calendarioAction.form.viernes}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.viernes']}" />
											</t:panelGroup>
											<h:outputText value="" />
											<t:panelGroup>
											       <h:selectBooleanCheckbox id="sabado" value="#{calendarioAction.form.sabado}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.sabado']}" />
											       <h:outputText value="&#160;&#160;&#160;&#160;" />
											       <h:selectBooleanCheckbox id="domingo" value="#{calendarioAction.form.domingo}" disabled="#{calendarioAction.form.readMode}"/>
											       <h:outputText value=" #{msg['calendarioForm.domingo']}" />
											</t:panelGroup>



											<h:outputText value="&#160;" />
											<h:outputText value="&#160;" />

											<h:outputLabel value="#{msg['calendarioForm.ultimaActualizacion']}" />
											<h:outputText value="#{calendarioAction.form.ultimaActualizacion}" disabled="#{calendarioAction.form.readMode}" converter="timeZoneConverter"/>

											<h:outputText value="&#160;" />
											<h:outputText value="&#160;" />

											<h:outputLabel value="#{msg['calendarioForm.festivos']}" />
											<p:calendar value="#{calendarioAction.form.festivos}" mode="inline" selection="multiple" pages="3"
											            language="es" startWeekday="1" widgetVar="festivos" disabled="#{calendarioAction.form.readMode}"/>

											<h:outputText value="&#160;" />
											<h:outputText value="&#160;" />

											<f:facet name="footer">
												<h:outputText value="&#160;" />
											</f:facet>
										</t:panelGrid>
									</t:div>
								</t:div>
								<h:panelGroup>
									<t:div><h:outputText value="&#160;" /></t:div>
									<h:commandLink action="#{calendarioAction.cancel}" id="cancelar" styleClass="boton_rojo" title="#{common['button.cancel']}">
										<span><h:outputText value="#{common['button.cancel']}" /></span>
									</h:commandLink>
									<h:commandLink action="#{calendarioAction.save}" id="save" styleClass="boton" title="#{common['button.save']}" rendered="#{!calendarioAction.form.readMode}">
										<span><h:outputText value="#{common['button.save']}" /></span>
									</h:commandLink>
								</h:panelGroup>
						</t:div>
					</t:div>

					<t:div styleClass="pie_pestana">
						<t:panelGrid columns="3" columnClasses="blank,blanco,blank" cellpadding="0" cellspacing="0" border="0">
							<h:graphicImage value="/images/pie01.gif" />
							<h:outputText value="   " />
							<h:graphicImage value="/images/pie02.gif" />
						</t:panelGrid>
					</t:div>
				</t:div>
				<h:inputHidden value="#{calendarioAction.form.navigationRuleBack}" id="navigationRuleBack"/>
				<h:inputHidden value="#{calendarioAction.form.nombreBiblioteca}" id="nombreBiblioteca"/>
				<h:inputHidden value="#{calendarioAction.form.readMode}" id="readMode"/>
			</h:form>

			<ui:include src="/common/windowMessages.xhtml">
    			<ui:param name="bean" value="#{calendarioAction}"/>
   				<ui:param name="borrar" value="true"/>
		</ui:include>

		</f:view>
	</ui:define>
</ui:composition>
</html>
