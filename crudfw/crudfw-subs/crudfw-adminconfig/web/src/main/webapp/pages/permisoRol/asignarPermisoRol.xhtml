<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:librae="http://www.librae.org/jsf/facelets"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">


<ui:composition template="/templates/defaultTemplate.xhtml">
	<ui:define name="title">#{msg['asignarPermisoRol.tab']}</ui:define>
	<ui:define name="body.id">asignarPermisoRolAction</ui:define>
	<ui:define name="body">
		<f:view>
			<head>
				<script type="text/javascript">
				<!--
					function cargarPermiso(event) {
						var clickFunction= "A4J.AJAX.Submit('_viewRoot','asignarPermisoRolAction',event,{'parameters':{'idPermiso':'0','asignarPermisoRolAction:seleccionarPermiso':'asignarPermisoRolAction:seleccionarPermiso'},'actionUrl':'/librae-adminconfig/pages/permisoRol/asignarPermisoRol.html'})";
				        try {
					        eval(clickFunction);
				        } catch (e) {
							alert(e);
					    }
				        return;
					}
					function limpiarPermiso(event) {
						var clickFunction= "A4J.AJAX.Submit('_viewRoot','asignarPermisoRolAction',event,{'parameters':{'idPermiso':'0','asignarPermisoRolAction:limpiarPermiso':'asignarPermisoRolAction:limpiarPermiso'},'actionUrl':'/librae-adminconfig/pages/permisoRol/asignarPermisoRol.html'})";
				        try {
					        eval(clickFunction);
				        } catch (e) {
							alert(e);
					    }
				        return;
					}
				-->
				</script>
			</head>
			<librae:breadCrumb />

			<h:form id="asignarPermisoRolAction">
				<t:div styleClass="contenido">

				<librae:executeMethod getter="#{asignarPermisoRolAction.init}" id="init"/>

				<librae:tabbedPage tabs="#{asignarPermisoRolAction.form.tabGroup}"
					subTabs="#{asignarPermisoRolAction.form.subTabGroup}">
					<librae:tab binding="#{asignarPermisoRolAction.form.tabListado}">
						<t:div styleClass="cuadro">
							<t:div styleClass="cuadro02">
								<t:panelGrid columns="2" columnClasses="anchura5" headerClass="titular" footerClass="esq02" cellpadding="0" cellspacing="0" border="0" width="100%">
								<f:facet name="header">
									<h:outputText value=" #{msg['rol.crear.titulo']}" />
								</f:facet>

								<h:outputLabel for="codigoRol" value="#{msg['rol.rol']}" />
								<h:outputText value="#{asignarPermisoRolAction.form.codigoRol}"/>

								<h:outputLabel for="nombreRol" value="#{msg['rol.nombre']}" />
								<h:outputText  value="#{asignarPermisoRolAction.form.nombreRol}"/>

								<a4j:commandLink reRender="permisosAsignados, paginacion" id="seleccionarPermiso" action="#{permisoNoAsignadosSearchAction.asignar}" style="display:none;">
								</a4j:commandLink>

								<a4j:commandLink id="limpiarPermiso" action="#{permisoNoAsignadosSearchAction.limpiarSeleccionados}" style="display:none;">
								</a4j:commandLink>

								<f:facet name="footer">
									<h:inputHidden value="#{asignarPermisoRolAction.form.idRol}" id="idRol" />
								</f:facet>
								</t:panelGrid>
							</t:div>
						</t:div>

						<h:outputText value=" "/>

						<librae:subTabListado binding="#{asignarPermisoRolAction.form.subTabResults}">

							<t:panelGrid columns="2" styleClass="botones">
								<t:panelGroup>
									<span class="btn_barra"> <t:selectBooleanCheckbox
										styleClass="btn_st" forceId="true" id="selectAll"
										value="#{permisoAsignadosSearchAction.selectedAll}"
										onclick="actualizarSeleccionTodos(this, 'permisosAsignados', 'selectAllPage');" />
									<em id="btn_st1"><h:outputText
										value="#{common['button.selectAll']}" /></em> <em
										style="display: none;" id="btn_st2"><h:outputText
										value="#{common['button.deselectAll']}" /></em> </span>

									<h:outputLink id="asignar" styleClass="btn_barra" value="#" title="#{msg['asignarPerfiles.asignar']}"
										onclick="javascript:abrirVentana('/librae-adminconfig/pages/permiso/listLocalizador.html' , 60 , 35 , 'ventana', 'Localizar permisos no asignados'); return false;">
										<span><h:outputText value="#{msg['asignarPerfiles.asignar']}" /></span>
									</h:outputLink>

									<h:commandLink action="#{permisoAsignadosSearchAction.desasignar}" id="desasignar" styleClass="btn_barra" title="#{msg['asignarPerfiles.desasignar']}">
										<span><h:outputText value="#{msg['asignarPerfiles.desasignar']}" /></span>
									</h:commandLink>
								</t:panelGroup>
								<t:panelGroup styleClass="botonfinal">
									<h:commandButton action="#{permisoAsignadosSearchAction.generarPdf}" immediate="true" styleClass="imprimir" title="#{common['button.pdf']}" image="/images/pdf_icon.gif" alt="#{common['button.pdf']}" />
									<h:commandButton action="#{permisoAsignadosSearchAction.generarExcel}" immediate="true" styleClass="imprimir" title="#{common['button.excel']}" image="/images/hoja_calculo_icon.gif" alt="#{common['button.excel']}" />
									<t:selectOneMenu id="factorPaginacion"
										styleClass="combo_paginacion" onchange="return oamSubmitForm('asignarPermisoRolAction','asignarPermisoRolAction:cambiarPaginacion');"
										value="#{permisoAsignadosSearchAction.pageSize}">
										<f:selectItem itemValue="10" itemLabel="10" />
										<f:selectItem itemValue="20" itemLabel="20" />
										<f:selectItem itemValue="30" itemLabel="30" />
										<f:selectItem itemValue="50" itemLabel="50" />
										<!-- f:selectItem itemValue="-1" itemLabel="Todos" / -->
									</t:selectOneMenu>
									<t:commandLink action="#{permisoAsignadosSearchAction.modificarPageSize}"
										id="cambiarPaginacion" style="display:none;">
										<h:outputText value="." />
									</t:commandLink>
								</t:panelGroup>
							</t:panelGrid>

							<ui:include src="/pages/permiso/dataTable.xhtml">
								<ui:param name="bean" value="#{permisoAsignadosSearchAction}" />
								<ui:param name="idListado" value="permisosAsignados" />
							</ui:include>

						</librae:subTabListado>
						<h:panelGroup>
							<ui:include src="/common/paginatorAjax.xhtml">
								<ui:param name="bean" value="#{permisoAsignadosSearchAction}" />
								<ui:param name="idListado" value="permisosAsignados" />
							</ui:include>
							<h:commandLink action="#{asignarPermisoRolAction.cancel}" id="cancel" immediate="true" styleClass="boton_rojo" title="#{common['button.back']}" onclick="bCancel=true">
								<span><h:outputText value="#{common['button.back']}" /></span>
							</h:commandLink>
						</h:panelGroup>
					</librae:tab>
				</librae:tabbedPage>
			</t:div>
			</h:form>

			<librae:windowMessages bean="#{asignarPermisoRolAction}" borrar="true" />

		</f:view>
	</ui:define>
</ui:composition>
</html>
