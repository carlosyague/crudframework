<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:v="http://corejsf.com/validator"
	xmlns:s="http://myfaces.apache.org/sandbox"
	xmlns:librae="http://www.librae.org/jsf/facelets">


<ui:composition template="/templates/defaultTemplate.xhtml">
	<ui:define name="title">#{text['rolForm.title']}</ui:define>
	<ui:define name="body.id">rolFormAction</ui:define>

	<ui:define name="body">
		<f:view>

		<librae:executeMethod getter="#{rolFormAction.init}" id="initRol"/>

		<h:form id="rolForm">

			<librae:breadCrumb />

			<t:panelGrid columns="1" styleClass="ruta" columnClasses="path,fechahora" cellpadding="0" cellspacing="0" border="0" rendered="#{!rolFormAction.rolForm.creacion}">
				<h:panelGroup>
					<t:panelGroup visibleOnUserRole="ADM_Eliminar_Rol">
						<h:outputLink value="#" id="delete" styleClass="btn_barra"
								title="#{common['button.remove']}" onclick="dialogo1Var.show();">
							<strong><h:outputText value="#{common['button.remove']}" /></strong>
						</h:outputLink>
					</t:panelGroup>

					<t:commandLink action="#{asignarPermisoRolAction.init}"
						id="asignar" styleClass="btn_barra" title="#{common['button.asignar']}"
						visibleOnUserRole="ADM_Asignar_Permisos">
						<span><h:outputText value="#{common['button.asignar']}" /></span>
					</t:commandLink>
					<t:saveState id="saveCreacion" value="#{rolFormAction.rolForm.creacion}" />
				</h:panelGroup>
			</t:panelGrid>

			<t:div styleClass="contenido">
			<t:div styleClass="pestana1"><!-- PESTAÃ‘A1 -->

			<t:panelGrid columns="3" styleClass="pestanas" columnClasses="blank,titulo_activa" cellpadding="0" cellspacing="0" border="0">
				<h:graphicImage value="/images/p01b.gif" />
				<h:outputText value="#{msg['rol.crear.tab']}" />
				<h:graphicImage value="/images/p02b.gif" />
			</t:panelGrid>

			<!-- CONTENIDO PESTANA -->
			<t:div styleClass="pestana">

				<t:div styleClass="cuadro">
				<t:div styleClass="cuadro02">

				   <t:panelGrid columns="2" columnClasses="anchura5, anchura95" headerClass="titular" footerClass="esq02" cellpadding="0" cellspacing="0" border="0" width="100%">

				   			<f:facet name="header">
					  			<h:outputText value=" #{msg['rol.crear.titulo']}" />
				   			</f:facet>

							<h:outputLabel for="codigo" value="#{msg['rol.codigo']}" />
							<h:panelGroup>
								<t:saveState id="saveCodigo" value="#{rolFormAction.rolForm.codigo}" />
								<h:inputText styleClass="text medium" size="80" id="codigo" value="#{rolFormAction.rolForm.codigo}" required="true" maxlength="40" disabled="#{rolFormAction.rolForm.readMode}" />
								<t:message for="codigo" styleClass="fieldError" detailFormat="{1} #{common['required']}." showSummary="false" showDetail="true" />
							</h:panelGroup>

							<h:outputLabel for="nivel" value="#{msg['rol.nivel']}"/>
							<h:panelGroup>
								<t:saveState id="saveNivel" value="#{rolFormAction.rolForm.nivel}" />
								<h:selectOneMenu id="nivel" value="#{rolFormAction.rolForm.nivel}" disabled="#{rolFormAction.rolForm.readMode}">
									<f:selectItems value="#{comboAction.nivelesRol}" />
								</h:selectOneMenu>
								<h:outputLabel value="#{msg['rol.info.nivel']}"/>
							</h:panelGroup>

							<h:outputLabel for="nombre" value="#{msg['rol.descripcion']}" />
							<h:panelGroup>
								<t:saveState id="saveNombre" value="#{rolFormAction.rolForm.nombre}" />
								<h:inputTextarea styleClass="text medium" cols="80" rows="5" id="nombre" value="#{rolFormAction.rolForm.nombre}" required="false" maxlength="120" disabled="#{rolFormAction.rolForm.readMode}">
									<v:commonsValidator type="maxlength" maxlength="120" arg="#{common['errors.maxlength']}" client="true" server="true"/>
								</h:inputTextarea>
								<t:message for="nombre" styleClass="fieldErrorArriba" showDetail="true" detailFormat="{1} #{common['maxlength']} 120 #{common['chars']}." showSummary="false" />
							</h:panelGroup>
							<!-- Fin nombre -->
							<!-- nombre -->

							<t:saveState id="saveIdRol" value="#{rolFormAction.rolForm.idRol}" />
							<h:inputHidden value="#{rolFormAction.rolForm.idRol}" id="idRol"/>

							<t:saveState id="saveReadMode" value="#{rolFormAction.rolForm.readMode}" />
							<h:inputHidden value="#{rolFormAction.rolForm.readMode}" id="readMode"/>

							 <!-- Botonera -->
	   						<f:facet name="footer">
								<h:panelGroup>
									<t:commandLink action="list" id="cancel" styleClass="boton_rojo" title="#{common['button.cancel']}" immediate="true" visibleOnUserRole="ADM_Mantenimiento_Rol" rendered="#{!rolFormAction.rolForm.readMode}">
										<span><h:outputText value="#{common['button.cancel']}" /></span>
			    					</t:commandLink>
			    					<t:commandLink action="list" id="back" styleClass="boton_rojo" title="#{common['button.back']}" immediate="true" rendered="#{rolFormAction.rolForm.readMode}">
										<span><h:outputText value="#{common['button.back']}" /></span>
			    					</t:commandLink>
			    					<t:commandLink action="#{rolFormAction.editable}" id="editable" styleClass="boton"
										title="#{common['button.edit']}" rendered="#{rolFormAction.rolForm.readMode}" visibleOnUserRole="ADM_Mantenimiento_Rol">
										<span><h:outputText value="#{common['button.edit']}" /></span>
									</t:commandLink>
									<t:commandLink action="#{rolFormAction.saveAceptar}" id="saveAceptar" styleClass="boton" title="#{common['button.done']}" rendered="#{!rolFormAction.rolForm.readMode}" visibleOnUserRole="ADM_Mantenimiento_Rol">
										<span> <h:outputText value="#{common['button.done']}" /> </span>
									</t:commandLink>
									<h:commandLink action="#{rolFormAction.saveGuardar}" id="save" styleClass="boton" title="#{common['button.save']}" rendered="#{!rolFormAction.rolForm.readMode}">
										<span> <h:outputText value="#{common['button.save']}" /> </span>
									</h:commandLink>
							</h:panelGroup>
	   					</f:facet>
	   					<!-- Fin Botonera -->

					</t:panelGrid>
				</t:div>
				</t:div>
			</t:div>
			</t:div>

			<!-- pie_pestana -->
			<t:div styleClass="pie_pestana">
				<t:panelGrid columns="3" columnClasses="blank,blanco,blank" cellpadding="0" cellspacing="0" border="0">
					<h:graphicImage value="/images/pie01.gif" />
					<h:outputText value=" " />
					<h:graphicImage value="/images/pie02.gif" />
				</t:panelGrid>
			</t:div>

			</t:div>

			<t:div id="divConfirmacionBorrar" style="display: none;">
				<s:modalDialog  dialogId="dialogo2"  dialogVar="dialogo1Var"
					      dialogAttr="bgColor='white' bgOpacity='0.5' toggle='fade' toggleDuration='50'"
					      hiderIds="btnCerrar">
				        <t:panelGrid border="0" columns="1" styleClass="ventanaEmergente">
					    	<t:outputText id="msg"  value="#{msg['confirmacion.rol']}" style="text-align:center;"/>
					    	<t:panelGroup>
					        	<t:panelGrid border="0" columns="2">
							        <t:commandLink action="#{rolFormAction.eliminar}" id="editD" immediate="true" styleClass="btn_barra">
										<t:htmlTag value="span"><h:outputText value="#{common['button.remove']}" /></t:htmlTag>
									</t:commandLink>
							        <t:commandButton id="btnCerrar" forceId="true" onclick="dialogo1Var.hide();" styleClass="btn_barra_cerrar" value="#{common['button.cancel']}"/>
					        	</t:panelGrid>
				        	</t:panelGroup>
				        </t:panelGrid>
				</s:modalDialog>
			</t:div>

		</h:form>

		<librae:windowMessages bean="#{rolFormAction}" borrar="true" />

		</f:view>
	</ui:define>
</ui:composition>
</html>
